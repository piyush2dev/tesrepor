{"version":3,"file":"js/2.js","sources":["webpack:///./src/client/components/VideoTile/index.js","webpack:///./src/client/components/VideoTile/styles.css"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './styles.css';\nimport { PlayIcon, PlusIcon } from '../Icons';\n\nexport default function VideoTile({ gist, variant = 'short', ageRestriction, featureText, color }) {\n  const variantToSize = {\n    short: '_16x9',\n    long: '_9x16',\n    cube: '_1x1',\n    circle: '_1x1',\n    genre: '_16x9',\n    'extra-wide': '_32x9',\n  };\n\n  const imageRatioForSmallSizeLoading = {\n    _16x9: 1.77,\n    _9x16: 0.56,\n    _1x1: 1,\n    _32x9: 3.55,\n  };\n  const imageUrl = gist && gist.imageGist[variantToSize[variant]];\n\n  // const placeholderWidth = 20;\n\n  // const placeholderImage = imageUrl\n  //   ? `${imageUrl}?impolicy=resize&w=${placeholderWidth}&h=${\n  //       placeholderWidth / imageRatioForSmallSizeLoading[variantToSize[variant]]\n  //     }`\n  //   : '';\n\n  // const [imageSrc, setImageSrc] = useState(placeholderImage);\n  // const [imageRef, setImageRef] = useState();\n\n  // const setProgressiveImage = (src) => {\n  //   if (!src) return '';\n  //   const img = new Image();\n  //   img.src = src;\n  //   img.onload = () => setImageSrc(src);\n  // };\n\n  // useEffect(() => {\n  //   let observer;\n  //   let didCancel = false;\n\n  //   if (imageRef && imageSrc === placeholderImage) {\n  //     if (IntersectionObserver) {\n  //       observer = new IntersectionObserver(\n  //         (entries) => {\n  //           entries.forEach((entry) => {\n  //             // when image is visible in the viewport + rootMargin\n  //             if (!didCancel && (entry.intersectionRatio > 0 || entry.isIntersecting)) {\n  //               setProgressiveImage(imageUrl);\n  //               // setImageSrc(imageSrc);\n  //             }\n  //           });\n  //         },\n  //         {\n  //           threshold: 0.01,\n  //           rootMargin: '20%',\n  //         }\n  //       );\n  //       observer.observe(imageRef);\n  //     } else {\n  //       // Old browsers fallback\n  //       setImageSrc(imageUrl);\n  //     }\n  //   }\n  //   return () => {\n  //     didCancel = true;\n  //     // on component unmount, we remove the listner\n  //     if (observer && observer.unobserve) {\n  //       observer.unobserve(imageRef);\n  //     }\n  //   };\n  // });\n\n  return (\n    <div className=\"video-tile-container\">\n      <div className={`video-tile-wrapper video-tile-${variant}`}>\n        <div\n          className=\"video-tile-parent\"\n          style={{\n            backgroundImage: `url(${imageUrl}), linear-gradient(#212121, #212121)`,\n          }}\n        >\n          {featureText && <div className=\"video-tile-new-label\">{featureText}</div>}\n          <div className=\"video-tile-progress\" />\n          <div className=\"video-tile-long-hover-info-container\">\n            <div className=\"video-tile-long-hover-title-action-container\">\n              <div className={`video-tile-long-hover-title ${gist ? gist.title : ''}`}>\n                {gist ? gist.title : ''}\n              </div>\n              <div className=\"video-tile-long-hover-action-container\">\n                <div className=\"video-tile-long-hover-play-icon-container\">\n                  <PlayIcon />\n                </div>\n                <div className=\"video-tile-long-hover-plus-icon-container\">\n                  <PlusIcon />\n                </div>\n              </div>\n            </div>\n            <ul className=\"video-tile-long-hover-feature-list\">\n              {ageRestriction && (\n                <li className=\"video-tile-long-hover-feature-item video-tile-age-rating\">\n                  {ageRestriction}\n                </li>\n              )}\n              {gist && gist.runtime && (\n                <li className=\"video-tile-long-hover-feature-item\">\n                  {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n                  {Math.round(gist.runtime / 60)} mins\n                </li>\n              )}\n              {gist && gist.year && (\n                <li className=\"video-tile-long-hover-feature-item\">{gist.year}</li>\n              )}\n              {gist && gist.primaryCategory && gist.primaryCategory.title && (\n                <li className=\"video-tile-long-hover-feature-item\">{gist.primaryCategory.title}</li>\n              )}\n            </ul>\n          </div>\n        </div>\n        <div className=\"video-tile-info\">\n          <div className=\"video-tile-action-container\">\n            <div\n              className=\"video-tile-title\"\n              style={{ '--genre-color': color ? `${color}6b` : '#b71c1c6b' }}\n            >\n              {gist ? gist.title : ''}\n              {ageRestriction && <div className=\"video-tile-age-rating\">{ageRestriction}</div>}\n            </div>\n            <div className=\"video-tile-icon-container\">\n              <div className=\"video-tile-play-icon video-tile-icon\">\n                <PlayIcon />\n              </div>\n              <div className=\"video-tile-plus-icon video-tile-icon\">\n                <PlusIcon />\n              </div>\n            </div>\n          </div>\n          <ul className=\"video-tile-feature-list\">\n            {/* eslint-disable-next-line react/jsx-one-expression-per-line */}\n            {gist && gist.runtime && <li>{Math.round(gist.runtime / 60)} mins</li>}\n            {gist && gist.year && <li>{gist.year}</li>}\n            {gist && gist.primaryCategory && gist.primaryCategory.title && (\n              <li>{gist.primaryCategory.title}</li>\n            )}\n          </ul>\n          {gist && <div className=\"video-tile-description\">{gist.description}</div>}\n        </div>\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AAJA;AAMA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AADA;AAFA;AAMA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAGA;AAAA;AAKA;AAAA;AAEA;AAAA;AAKA;AAAA;AAMA;AAAA;AAGA;AAAA;AAKA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAFA;AAKA;AAAA;AAEA;AAAA;AACA;AAAA;AAGA;AAAA;AAKA;AAAA;AAQA;AAAA;AAKA;;;;;;;;;;;ACzJA;;;;A","sourceRoot":""}