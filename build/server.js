!function(e){var t={},n={16:0},r={16:0};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(t){var i=[];if(n[t]?i.push(n[t]):0!==n[t]&&{0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,10:1,11:1,12:1,13:1,14:1,17:1,18:1,19:1,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:1,28:1,29:1,30:1,31:1,32:1}[t]&&i.push(n[t]=new Promise((function(e,r){for(var i=t+".style.css",s=o.p+i,a=document.getElementsByTagName("link"),l=0;l<a.length;l++){var u=(f=a[l]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(u===i||u===s))return e()}var c=document.getElementsByTagName("style");for(l=0;l<c.length;l++){var f;if((u=(f=c[l]).getAttribute("data-href"))===i||u===s)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||s,i=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=o,delete n[t],d.parentNode.removeChild(d),r(i)},d.href=s,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){n[t]=0}))),0!==r[t]){var s=require("./"+t+".server.js"),a=s.modules,l=s.ids;for(var u in a)e[u]=a[u];for(var c=0;c<l.length;c++)r[l[c]]=0}return Promise.all(i)},o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o.oe=function(e){process.nextTick((function(){throw e}))},o(o.s=24)}([function(e,t){e.exports=require("react")},function(e,t,n){n(26);const r="staging",o={id:"57e4b76f-6168-41af-bdd8-c76a2e5bf798",domainName:"staging-hoichoitv.viewlift.com",apiKey:"BkSBbok02k6RYUlCLRzI23wac0euoSfC3FP7uW2S"},{id:i,domainName:s,apiKey:a}=o;e.exports={apiProxy:`https://${r}-api.viewlift.com`,static:"public",apiKey:a,layoutUrlBase:`https://appcms${r}.viewlift.com/`,siteConfigUrl:`https://appcms${r}.viewlift.com/${i}/main.json`,siteInfoCachedUrl:`https://${r}-api.viewlift.com/content/sites?domainName=${s}`,siteConfigWebUrl:`https://appcmsstaging.viewlift.com/${i}/web.json?version=0.11140.0`,pageUrl:`https://${r}-api.viewlift.com/content/pages`,moduleList:`https://appcms${r}.viewlift.com/${i}/web/3385ad06-ed4d-419a-a54b-1391ee7d38f2.json`,internalName:"staging-hoichoitv"}},,,,,,,,,,,,,,,,,function(e,t){e.exports=require("axios")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){var r=n(18),o=n(1);e.exports=[function(){return console.log("url",o.moduleList),r({method:"GET",url:o.moduleList}).catch((function(){return console.log("err")}))},function(){return console.log("fetching pageapi...."),r({method:"GET",url:o.pageUrl,headers:{"x-api-key":o.apiKey},params:{path:"/",site:o.internalName,includeContent:!0,moduleOffset:0,moduleLimit:4,languageCode:"default",countryCode:"IN"}}).catch((function(e){return console.log(e.message)}))}]},function(e,t){e.exports=require("redis")},function(e,t){e.exports=require("@loadable/component")},function(e,t,n){n(25),e.exports=n(28)},function(e,t){e.exports=require("@babel/polyfill")},function(e,t){e.exports=require("path")},function(e,t,n){var r={"./Banner":[6,9,0,5],"./Banner/":[6,9,0,5],"./Banner/index":[6,9,0,5],"./Banner/index.js":[6,9,0,5],"./Banner/styles.css":[32,7,17],"./BigPoster":[3,9,0,6],"./BigPoster/":[3,9,0,6],"./BigPoster/index":[3,9,0,6],"./BigPoster/index.js":[3,9,0,6],"./BigPoster/styles.css":[29,7,18],"./BigPosters":[7,9,0,1],"./BigPosters/":[7,9,0,1],"./BigPosters/index":[7,9,0,1],"./BigPosters/index.js":[7,9,0,1],"./BigPosters/styles.css":[34,7,19],"./BottomMenuBar":[8,9,0,7],"./BottomMenuBar/":[8,9,0,7],"./BottomMenuBar/index":[8,9,0,7],"./BottomMenuBar/index.js":[8,9,0,7],"./BottomMenuBar/styles.css":[35,7,20],"./Carousel":[9,9,0,3],"./Carousel/":[9,9,0,3],"./Carousel/index":[9,9,0,3],"./Carousel/index.js":[9,9,0,3],"./Carousel/styles.css":[36,7,21],"./CarouselSlide":[4,9,0,8],"./CarouselSlide/":[4,9,0,8],"./CarouselSlide/index":[4,9,0,8],"./CarouselSlide/index.js":[4,9,0,8],"./CarouselSlide/styles.css":[30,7,22],"./Footer":[10,9,0,9],"./Footer/":[10,9,0,9],"./Footer/index":[10,9,0,9],"./Footer/index.js":[10,9,0,9],"./Footer/styles.css":[37,7,23],"./Icons":[2,9,0],"./Icons/":[2,9,0],"./Icons/index":[2,9,0],"./Icons/index.js":[2,9,0],"./Icons/styles.css":[33,7,24],"./Login":[11,9,0,10],"./Login/":[11,9,0,10],"./Login/index":[11,9,0,10],"./Login/index.js":[11,9,0,10],"./Login/styles.css":[38,7,25],"./MoboCarousel":[12,9,0,11],"./MoboCarousel/":[12,9,0,11],"./MoboCarousel/index":[12,9,0,11],"./MoboCarousel/index.js":[12,9,0,11],"./MoboCarousel/styles.css":[39,7,26],"./Navbar":[17,9,0,12],"./Navbar/":[17,9,0,12],"./Navbar/index":[17,9,0,12],"./Navbar/index.js":[17,9,0,12],"./Navbar/styles.css":[40,7,27],"./OriginalSeries":[13,9,0,2],"./OriginalSeries/":[13,9,0,2],"./OriginalSeries/index":[13,9,0,2],"./OriginalSeries/index.js":[13,9,0,2],"./OriginalSeries/styles.css":[41,7,28],"./Slide":[14,7,15],"./Slide/":[14,7,15],"./Slide/index":[14,7,15],"./Slide/index.js":[14,7,15],"./Slide/styles.css":[44,7,29],"./VideoBanner":[15,9,0,13],"./VideoBanner/":[15,9,0,13],"./VideoBanner/index":[15,9,0,13],"./VideoBanner/index.js":[15,9,0,13],"./VideoBanner/styles.css":[42,7,30],"./VideoTile":[5,9,0,14],"./VideoTile/":[5,9,0,14],"./VideoTile/index":[5,9,0,14],"./VideoTile/index.js":[5,9,0,14],"./VideoTile/styles.css":[31,7,31],"./VideoTiles":[16,9,0,4],"./VideoTiles/":[16,9,0,4],"./VideoTiles/index":[16,9,0,4],"./VideoTiles/index.js":[16,9,0,4],"./VideoTiles/styles.css":[43,7,32]};function o(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],o=t[0];return Promise.all(t.slice(2).map(n.e)).then((function(){return n.t(o,t[1])}))}o.keys=function(){return Object.keys(r)},o.id=27,e.exports=o},function(e,t,n){"use strict";n.r(t);var r,o=n(19),i=n.n(o),s=n(0),a=n.n(s),l=n(20),u=n(22),c=n.n(u),f=n(21),d=n.n(f),p=function(e){var t=e.children,n=e.initialState,r=e.scripts;return a.a.createElement("html",null,a.a.createElement("head",null,a.a.createElement("meta",{charSet:"UTF-8"}),a.a.createElement("title",null,"Hoichoi"),a.a.createElement("link",{rel:"stylesheet",type:"text/css",href:"style.css"})),a.a.createElement("body",null,a.a.createElement("div",{id:"root",dangerouslySetInnerHTML:{__html:t}}),n&&a.a.createElement("script",{dangerouslySetInnerHTML:{__html:"window.APP_STATE=".concat(JSON.stringify(n))}}),r.map((function(e,t){return a.a.createElement("script",{key:t,src:e})}))))},m=n(18),g=n.n(m),y=n(23),h=n.n(y);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=(v(r={0:"Navbar",1:"Carousel",2:"MoboCarousel",3:"VideoTiles",4:"VideoTiles"},"3","VideoTiles"),v(r,"5","BigPosters"),v(r,"6","VideoTiles"),v(r,"10","VideoTiles"),v(r,"","banner"),v(r,"3","VideoTiles"),v(r,"4","VideoTiles"),v(r,"5","BigPosters"),v(r,"5","BigPosters"),v(r,"13","OriginalSeries"),v(r,"6","VideoTiles"),v(r,"14","BottomMenuBar"),r),x=function(e,t){var n;return function(){clearTimeout(n),n=setTimeout(e,t)}},S=n(1),w=n.n(S);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t){return(P=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P(e,t)}(s,e);var t,r,o,i=B(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),M(N(t=i.call(this,e)),"setListenner",(function(){window.addEventListener("wheel",x(t.handleScroll,50),{passive:!1}),window.addEventListener("touchmove",x(t.handleScroll,50),{passive:!1}),window.addEventListener("scroll",x(t.handleScroll,50),{passive:!1})})),M(N(t),"handleScroll",(function(e){e&&e.preventDefault(),window.innerHeight+window.scrollY>=document.body.offsetHeight&&t.state.components.length<t.state.totalPageModules&&(t.setState({offset:t.state.components.length}),t.loadNextComponents())})),M(N(t),"loadNextComponents",(function(){return g()({method:"GET",url:w.a.pageUrl,headers:{"x-api-key":w.a.apiKey},params:{path:"/",site:w.a.internalName,includeContent:!0,moduleOffset:t.state.offset,moduleLimit:4,languageCode:"default",countryCode:"IN"}}).then((function(e){return t.setState((function(t){return{components:[].concat(O(t.components),O(e.data.modules))}}))})).catch((function(e){return console.log(e.message)}))})),t.state={limit:4,components:[],offset:0,totalPageModules:0},t}return t=s,(r=[{key:"componentDidMount",value:function(){this.setState({components:this.props.page.modules,totalPageModules:this.props.moduleList.moduleList.length}),this.setListenner()}},{key:"render",value:function(){return a.a.createElement("div",null,(e=this.state.components,t={},r=e.find((function(e){return"4b2947d7-7564-4110-a45d-eddc8fb015c7"===e.id})),o=e.find((function(e){return"90e38be4-d9e4-4a51-8619-1680b478a90c"===e.id})),i=e.find((function(e){return"ea8e13ca-94af-4f60-a5fe-e60450494f06"===e.id})),e.map((function(e,s){var l=b[s.toString()];if(!l)return null;t="Carousel"===l||"MoboCarousel"===l?r:"VideoTiles"===l?i:o;var u=h()((function(e){return n(27)("./".concat(e.moduleName))}));return a.a.createElement(u,{moduleData:t,moduleName:l})}))));var e,t,r,o,i}}])&&C(t.prototype,r),o&&C(t,o),s}(s.Component);function V(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}var k=i()(),I=process.env.PORT||3e3;process.env.REDIS_PORT;k.use(i.a.static("public"));var A=c.a.createClient({host:"redis-cache"}),R=function(e){var t=Object(l.renderToString)(a.a.createElement(_,e)),n=Object(l.renderToStaticMarkup)(a.a.createElement(p,{children:t,scripts:["vendor.js","client.js"],initialState:e}));return"<!DOCTYPE html>".concat(n)},U=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Fetching Data..."),e.next=4,Promise.all(d.a.map((function(e){return e()})));case 4:o=e.sent,d.a.forEach((function(e,t){A.set(e.name,JSON.stringify(o[t].data))})),A.get("moduleList",(function(e,t){A.get("page",(function(e,r){n.send(R({moduleList:t,page:r}))}))})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.status(500);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){V(i,r,o,s,a,"next",e)}function a(e){V(i,r,o,s,a,"throw",e)}s(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();k.get("*",(function(e,t,n){try{A.get("moduleList",(function(e,n){A.get("page",(function(e,r){t.send(R({moduleList:JSON.parse(n),page:JSON.parse(r)}))}))}))}catch(e){n()}}),U),k.listen(I,(function(){console.log("Server is listening on ".concat(I))}))}]);
//# sourceMappingURL=server.js.map